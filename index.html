<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Network Application</title>
</head>
<body>
    <script src='https://areteans01.pegalabs.io/prweb/PRRestService/c11nsvc/v1/pega-embed.js' ></script>
    <pega-embed id='theEmbed' action='openAssignment' assignmentID='' themeID='EndeavourEnergy' casePage='assignmentWithStages' appAlias='network-applications' pegaServerUrl='https://areteans01.pegalabs.io/prweb/' autoReauth='true' authService='pega' userIdentifier='NetworkGit' password='cnVsZXM=' clientId='72954902205554958023' style='width:100%'>
    </pega-embed>
    <script>
        const getCaseIdEndpoint = "https://areteans01.pegalabs.io/prweb/api/DynamicCase/v1/getDynamicId";
        async function fetchCaseId() {
                const response = await fetch(getCaseIdEndpoint, {
                    method: "GET",
                    header: {}
                });
                    const data = await response.json();
                    const caseId = data.AssignmentID;
                    let embedElement = document.getElementById('theEmbed');
                    embedElement.setAttribute("assignmentID", caseId);
        }
        fetchCaseId();
</script>
</body>
</html>
